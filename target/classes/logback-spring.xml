<?xml version="1.0" encoding="UTF-8" ?>

<configuration>
    <appender name="console" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>%date [%thread] %-5level %logger{35} - %msg%n</pattern>
        </encoder>
    </appender>
    <root level="INFO">
        <appender-ref ref="console" />
    </root>


    <!-- ========================/My custom colored Appender========================================= -->
    <appender name="myConsole" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>%cyan(%date [%thread] %-5level %logger{35}) - %green(%msg)%n</pattern>
        </encoder>
    </appender>

<!-- ========================CustomerControllerLogger========================================= -->
    <appender name="customerFile" class="ch.qos.logback.core.FileAppender">
        <file>logs/customer_log.log</file>
        <encoder>
            <pattern>%date [%thread] %-5level %logger{35} - %msg%n</pattern>
        </encoder>
        <!-- ========================/Rolling Policy========================================= -->
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <!-- Logback will create following pattern log files -->
            <fileNamePattern>logs/customer_log.%d{yyyy-MM-dd_HH-mm-ss}.%i.log</fileNamePattern>
            <!--Logback will retain log files for the last 7 days and delete older ones.-->
            <maxHistory>7</maxHistory>
            <!--Logback will keep log files whose total size does not exceed 100 megabytes.-->
            <totalSizeCap>1MB</totalSizeCap>
            <!--If set to true, Logback will clean up older log files when the total size exceeds the totalSizeCap.-->
            <cleanHistoryOnOverflow>true</cleanHistoryOnOverflow>

        </rollingPolicy>
    </appender>

        <logger name="com.myapp.controller.CustomerController.file" level="INFO">
            <appender-ref ref="customerFile"/>
        </logger>

<!-- ========================/OrderControllerLogger========================================= -->
    <appender name="ordersFile" class="ch.qos.logback.core.FileAppender">
        <file>logs/orders_log.log</file>
        <encoder>
            <pattern>%date [%thread] %-5level %logger{35} - %msg%n</pattern>
        </encoder>
    </appender>

    <!--
    Controller can have multiple loggers . use LoggerFactory.getLogger("following Name")
    <logger name="com.myapp.controller.OrderController.console" level="INFO">
        <appender-ref ref="myConsole"/>
    </logger>-->
    <logger name="com.myapp.controller.OrderController.file" level="INFO">
        <appender-ref ref="ordersFile"/>
    </logger>

<!-- ========================/OrderLineControllerLogger========================================= -->
    <appender name="orderLineFile" class="ch.qos.logback.core.FileAppender">
        <file>logs/orderLine_log.log</file>
        <encoder>
            <pattern>%date [%thread] %-5level %logger{35} - %msg%n</pattern>
        </encoder>
    </appender>

    <logger name="com.myapp.controller.OrderLineController.fileLogger" level="INFO">
        <appender-ref ref="orderLineFile"/>
    </logger>

    <!-- ========================/PizzaControllerLogger========================================= -->
    <appender name="pizzaFile" class="ch.qos.logback.core.FileAppender">
        <file>logs/pizza_log.log</file>
        <encoder>
            <pattern>%date [%thread] %-5level %logger ==> %m %n</pattern>
        </encoder>
    </appender>

    <logger name="com.myapp.controller.PizzaController.loggerFile" level="INFO">
        <appender-ref ref="pizzaFile"/>
    </logger>




</configuration>